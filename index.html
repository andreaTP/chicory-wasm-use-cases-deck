<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <!-- TITLE OF THE PRESENTATION -->
  <!-- ============================================================ -->
  <title>
    Meet Chicory, exploit the power of WebAssembly on the server side!
  </title>
  <!-- ============================================================ -->

  <!-- Set a favicon icon (usually the lab logo) -->
  <link rel="shortcut icon" href="imgs/chicory.ico">

  <!-- Fonts -->
  <link rel="stylesheet" href="fonts/fontawesome/css/all.css">
  <link rel="stylesheet" href="fonts/computer-modern/fonts.css">

  <!-- Reveal.js styles -->
  <link rel="stylesheet" href="packages/revealjs/dist/reset.css">
  <link rel="stylesheet" href="packages/revealjs/dist/reveal.css">
  <link rel="stylesheet" href="packages/revealjs/dist/theme/serif.css" id="theme">

  <!-- Theme used for syntax highlighting of code -->
  <link rel="stylesheet" href="packages/revealjs/plugin/highlight/github-gist.css" id="highlight-theme">

  <!-- Custom CSS for the presentation -->
  <link rel="stylesheet/less" type="text/css" href="css/style.less">

</head>

<body>
  <!-- Include the presentation from the content Markdown file -->
  <div class="reveal">
    <div class="slides">
      <section data-markdown>
        <textarea data-template>
          # Server Side Wasm & Chicory
          ## The use cases

          <img src="./imgs/WebAssembly_Logo.svg" height="15%" width="15%" style="height: 15%; width: 15%;"></img>
        </textarea>
      </section>

      <section>
        <section data-markdown>
          <textarea data-template>
            > WebAssembly on the server is the future of computing.
            >
            > -- <cite>Solomon Hykes, founder of Docker</cite>
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            ### TL;DR:
            
            portable binary format for executable programs
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            ### Goals:
            - speed
            - security
            - easy embeddings
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            <img src="./imgs/wasm_bytecode_chicory.png" style="height: 70%; width: 70%;"></img>
          </textarea>
        </section>
      </section>

      <section>
        <section data-markdown>
          <textarea data-template>
            # Chicory
            
            <img style="width: 10%;" src="imgs/chicory1.png">
            <br/>

            A **pure Java**(zero deps) runtime for Wasm
            <br/>

            https://github.com/dylibso/chicory
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            <img src="./imgs/wasm_bytecode_chicory_only.png" style="height: 70%; width: 70%;"></img>
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            # Why:

            - reuse
            - stay within the JVM boundaries
            - JIT
            - observability
            - monitoring
            - ...
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            # Components:

            - pure interpreter: best for portability
            - AOT(ahead of time) compiler: best for speed *[experimental]*
          </textarea>
        </section>
      </section>

      <section>
        <section data-markdown>
          <textarea data-template>
            # Use cases

            <img style="width: 50%;" src="imgs/evolution.png">
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            # Embedding CLIs

            <img style="width: 30%;" src="imgs/process_builder_vs_bytecode.jpg">

            > Inspired by: https://github.com/orgs/wasilibs
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            # Polyglot extensions

            <img src="imgs/extensions.png" style="float: left; width: 30%;margin-left: 20%;">

            - [Camel](https://camel.apache.org/components/4.8.x/wasm-component.html)
            - [Kroxy (community)](https://github.com/andreaTP/kroxylicious-wasm)
            - [Kafka (Connect)](https://lburgazzoli.github.io/posts/2024-02-01_apache_kafka_connect_meets_wasm_part_1/)
            - [Keycloak](https://github.com/pedroigor/keycloak-wasm-policy-provider)
            - ...

            <br/>

            > Inspired by: [Extism](https://extism.org/)
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            # WASM Data transformations

            <img src="imgs/red-panda-wasm-dataflow.png" style="width: 30%;">

            <br/>

            > Inspired by: [RedPanda](https://www.redpanda.com/blog/wasm-architecture)
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            breath
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            # K8s integration patterns

            how it started
            <img src="imgs/k8s-sidecar.png" style="float: right; width: 30%; margin-right: 20%;">
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            # K8s integration patterns

            how is going
            <img src="imgs/k8s_today.png" style="float: right; width: 30%; margin-right: 20%;">
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            <img src="imgs/enhanced_back_to_the_process.png" style="width: 40%">
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            # HTTP filters today
            <img src="imgs/http-filters-k8s.png" style="width: 40%">
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            # HTTP filters tomorrow
            <img src="imgs/http-filters-embedded.png" style="width: 30%; float: left; margin-left: 20%;">

            - faster | *less network hops*
            - self-contained | *less infra*
            - simpler | *less cognitive overhead*

            <br/>

            > Inspired by: [quarkus-wasm-extension](https://github.com/evacchi/quarkus-wasm-extension)
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            <img src="imgs/opa-horizontal-color.png" style="width: 20%">

            > OPA a unified toolset and framework for policy across the cloud native stack.

            ```rego
            default allow := false

            allow if {
              input.user == "alice"
            }
            ```

            <p style="font-size: small;">Thanks Sanne</p>
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            # Traditional
            <img src="imgs/opa-service.svg" style="width: 40%">

            > Credits: [official docs](https://www.openpolicyagent.org/docs/latest/)
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            # Wasm
            <img src="imgs/opa-wasm.png" style="width: 30%">
            
            ```java
            Opa.loadPolicy(new File("policy.wasm"));
            policy.evaluate(input);
            ```

            > Experimental but complete: [repo](https://github.com/andreaTP/opa-chicory)
            <img src="imgs/opa-chicory-tests.png" style="width: 20%;float: right; margin-right: 20%; margin-top: 1%">
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            breath again
          </textarea>
        </section>
        <section data-markdown>
          <textarea data-template>
            breath again
          </textarea>
        </section>
      </section>

      <section data-markdown>
        <textarea data-template>
          # Thanks and Q&A

          <img style="width: 10%;" src="imgs/chicory1.png">
          <br/>

          https://github.com/dylibso/chicory
          <br/>
          https://github.com/andreaTP/devoxxbe-2024-deck
        </textarea>
      </section>
    </div>
  </div>

  <!-- Less to compile the style sheet to plain CSS -->
  <script src="packages/less/less.min.js" type="text/javascript"></script>

  <!-- Import the Reveal.js Javascript code -->
  <script src="packages/revealjs/dist/reveal.js" type="text/javascript"></script>
  <!-- Code for the plugins (also need to include them in Reveal.initialize) -->
  <script src="packages/revealjs/plugin/math/math.js" type="text/javascript"></script>
  <script src="packages/revealjs/plugin/markdown/markdown.js" type="text/javascript"></script>
  <script src="packages/revealjs/plugin/highlight/highlight.js" type="text/javascript"></script>
  <script src="packages/revealjs/plugin/notes/notes.js" type="text/javascript"></script>

  <!-- Configure Reveal.js -->
  <script>
    Reveal.initialize({
      katex: {
        local: 'packages/katex',
      },
      plugins: [RevealMarkdown, RevealMath.KaTeX, RevealHighlight, RevealNotes],
      width: 1920,
      height: 1080,
      margin: 0.1,
      // Bounds for smallest/largest possible scale to apply to content
      minScale: 0.1,
      maxScale: 2.0,
      // Play videos automatically when displaying a slide
      autoPlayMedia: true,
      // Vertical centering of slides
      center: true,
      // Transition style
      transition: 'none', // none/fade/slide/convex/concave/zoom
      // Transition speed
      transitionSpeed: 'default', // default/fast/slow
      // Transition style for full page slide backgrounds
      backgroundTransition: 'none', // none/fade/slide/convex/concave/zoom
      // Display presentation control arrows
      controls: true,
      // Help the user learn the controls by providing hints, for example by
      // bouncing the down arrow when they first encounter a vertical slide
      controlsTutorial: true,
      // Determines where controls appear, "edges" or "bottom-right"
      controlsLayout: 'bottom-right',
      // Visibility rule for backwards navigation arrows; "faded", "hidden"
      // or "visible"
      controlsBackArrows: 'faded',
      // Display a presentation progress bar
      progress: true,
      // Display the page number of the current slide
      // - "c/t":   Flattened slide number / total slides
      slideNumber: "c/t",
      // Add the current slide number to the URL hash so that reloading the
      // page/copying the URL will return you to the same slide
      hash: true,
      // Flags if we should monitor the hash and change slides accordingly
      respondToHashChanges: true,
      // Turns fragments on and off globally
      fragments: true,
      // Flags whether to include the current fragment in the URL,
      // so that reloading brings you to the same fragment position
      fragmentInURL: true,
      // Push each slide change to the browser history.  Implies `hash: true`
      history: false,
      // Enable keyboard shortcuts for navigation
      keyboard: true,
      // Enables touch navigation on devices with touch input
      touch: true,
      // Loop the presentation
      loop: false,
      // Changes the behavior of our navigation directions.
      // "default"
      // Left/right arrow keys step between horizontal slides, up/down
      // arrow keys step between vertical slides. Space key steps through
      // all slides (both horizontal and vertical).
      // "linear"
      // Removes the up/down arrows. Left/right arrows step through all
      // slides (both horizontal and vertical).
      // "grid"
      // When this is enabled, stepping left/right from a vertical stack
      // to an adjacent vertical stack will land you at the same vertical
      // index.
      navigationMode: 'linear',
      // Flags if we should show a help overlay when the question-mark
      // key is pressed
      help: true,
      // Flags if it should be possible to pause the presentation (blackout)
      pause: false,
      // Flags if speaker notes should be visible to all viewers
      //showNotes: false,
      // Enable slide navigation via mouse wheel
      mouseWheel: false,
      // The maximum number of pages a single slide can expand onto when printing
      // to PDF, unlimited by default (Number.POSITIVE_INFINITY)
      pdfMaxPagesPerSlide: Number.POSITIVE_INFINITY,
      // Prints each fragment on a separate slide
      pdfSeparateFragments: true,
      // Offset used to reduce the height of content within exported PDF pages.
      // This exists to account for environment differences based on how you
      // print to PDF. CLI printing options, like phantomjs and wkpdf, can end
      // on precisely the total height of the document whereas in-browser
      // printing has to end one pixel before.
      pdfPageHeightOffset: -1,
      // forward every 15 seconds
      // autoSlide: 15000,
      // stop at the end
      loop: false
    });
  </script>

</body>

</html>
